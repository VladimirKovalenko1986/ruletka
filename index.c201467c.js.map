{"mappings":"AAAA,MAAMA,EAAO,CACXC,SAAUC,SAASC,cAAc,aACjCC,UAAWF,SAASC,cAAc,kBCCpCH,EAAKC,SAASI,iBAAiB,SC2B/B,WACE,IAAIC,EAAU,EAEd,IAAIN,EAAKI,UAAUG,UAAUC,SAAQC,GAAQA,EAAIC,YAAc,KAE/D,MAAMC,EAAW,IAAIX,EAAKI,UAAUG,UAAUK,KAAI,CAACC,EAAGC,ICnB/C,IAAIC,SAAQ,CAACC,EAAKC,KACRC,KAAKC,SAEP,GACXH,EAAI,MAEDC,EAAC,KAAI,MDcZF,QAAQK,WAAWT,GAAUU,MAAKC,IAChCA,EAAKd,SAAQ,CAACe,EAAMT,KAClBU,YAAW,KACW,cAAhBD,EAAKE,SACPnB,GAAW,GAEbN,EAAKI,UAAUG,SAASO,GAAGJ,YAAca,EAAKG,OAASH,EAAKI,OAExD3B,EAAKI,UAAUG,SAASqB,OAAS,IAAMd,GACzCU,YAAW,KACLlB,IAAYN,EAAKI,UAAUG,SAASqB,QAAWtB,EAGjDuB,MAAM,kBAFNA,MAAM,YAEiB,GAExB,IAAI,GAER,IAAOf,EAAE,GACZ,G","sources":["src/js/common/const.js","src/index.js","src/js/helper/onClickBtnStart.js","src/js/helper/createPromise.js"],"sourcesContent":["const refs = {\n  startBtn: document.querySelector('.js-start'),\n  conteiner: document.querySelector('.js-conteiner'),\n};\n\nexport { refs };\n","import { refs } from './js/common/const';\nimport { onClickStart } from './js/helper/onClickBtnStart';\n\nrefs.startBtn.addEventListener('click', onClickStart);\n","import { refs } from '../common/const';\nimport { createPromise } from './createPromise';\n\n// function onClickStart() {\n//   const result = [];\n//   [...refs.conteiner.children].forEach(box => (box.textContent = ''));\n//   [...refs.conteiner.children].forEach((box, i) => {\n//     createPromise(i)\n//       .then(smile => {\n//         box.textContent = smile;\n//         result.push('1');\n//       })\n//       .catch(smile => {\n//         box.textContent = smile;\n//       })\n//       .finally(() => {\n//         setTimeout(() => {\n//           if (i === refs.conteiner.children.length - 1) {\n//             if (!result.length || result.length === 3) {\n//               alert('Winner!!!');\n//             } else {\n//               alert('Lost money!!!');\n//             }\n//           }\n//         }, 500);\n//       });\n//   });\n// }\n\n// !!!!!!! Через Promise All !!!!!!\nfunction onClickStart() {\n  let counter = 0;\n\n  [...refs.conteiner.children].forEach(box => (box.textContent = ''));\n\n  const promises = [...refs.conteiner.children].map((_, i) => createPromise(i));\n  Promise.allSettled(promises).then(item => {\n    item.forEach((item, i) => {\n      setTimeout(() => {\n        if (item.status === 'fulfilled') {\n          counter += 1;\n        }\n        refs.conteiner.children[i].textContent = item.value || item.reason;\n\n        if (refs.conteiner.children.length - 1 === i) {\n          setTimeout(() => {\n            if (counter === refs.conteiner.children.length || !counter) {\n              alert('Winner!!!');\n            } else {\n              alert('Lost money!!!!');\n            }\n          }, 500);\n        }\n      }, 1000 * i);\n    });\n  });\n}\n\nexport { onClickStart };\n","// function createPromise(delay) {\n//   return new Promise((res, rej) => {\n//     setTimeout(() => {\n//       const random = Math.random();\n\n//       if (random > 0.5) {\n//         res('🦀');\n//       } else {\n//         rej('🐸');\n//       }\n//     }, 1000 * delay);\n//   });\n// }\n\n// !!!!!!! Через Promise All !!!!!!\nfunction createPromise() {\n  return new Promise((res, rej) => {\n    const random = Math.random();\n\n    if (random > 0.7) {\n      res('🦀');\n    } else {\n      rej('🐸');\n    }\n  });\n}\n\nexport { createPromise };\n"],"names":["$f5890d4370c441c7$export$21666b427502ea6d","startBtn","document","querySelector","conteiner","addEventListener","counter","children","forEach","box","textContent","promises","map","_","i","Promise","res","rej","Math","random","allSettled","then","item1","item","setTimeout","status","value","reason","length","alert"],"version":3,"file":"index.c201467c.js.map"}